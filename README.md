# team-a-2020
## 1. Проверка структуры проекта
### 05.02.2020
В директории team-a-2020 должны лежать папки
application, config, public, sql
В public были перенесены из начальной директории:
файл index.php
папки: css, images, js
Из папки application перенесена папка views
## 2. Проверка настройки OpenServer
1. Перейдите в настройки OpenServer
2. Откройте вкладку Домены
3. Переведите Управление доменами в ручное
4. В имя домена укажите team-a-2020. В папку домена внесите \team-a-2020\public
5. Нажмите добавить

PS владельцы linux/macOS, соре, для вас тутора пока нет (хз будет ли)

!!! ***Теперь точка входа на сайт находится в public***
Чтобы PHPStorm адекватно воспринимал новый корень, нажмите на папку team-a-2020/public правой кнопкой мыши и выберите категорию
"Mark Directory as" и в ней пункт "Resource Root"
 ## 3. Подготовка к работе с проектом
### Для начала настроим файл .gitignore
Поместите в него папку config. В ней хранятся файлы для локальной настройки проекта.
Также, поместите в него папку .idea
## 4. Настройка конфигов
Откройте файл config/database.php в нем укажите свои значения для подключения к **локальной** базе данных
## 5. Работа с автолоадером
- Отныне вы всегда добавляете namespace'ы. Делается это так: Team\\#название_папки
- Если это вы пишите контроллер, то после #название_папки укажите \\Pub или \\Admin, в зависимости от того, 
какой котроллер вы пишите
- Если вы наследуетесь от какого-либо класса вы используете use 
- Если решаете инициализировать экземпляр класса, то вы указываете полностью namespace'ы (***без use***), при этом после new должен идти обратный слеш \, тогда IDE сможет корректно подасказывать вам namespace'ы

***Лучше всего при создании нового php файла в PHPStorm выбирать тип файла php class. Он определит namespace в зависимости от папки в которой вы создаете файл, вам останется только проверить правильность автоматического подставления и добавить в parent classes  \namespace\parent_class. (Примечание в редакторе после этого нужно навестись на наследуемый класс и ide предложит перенести полное название в use, согласно 3 пункту этого параграфа)***

#### Пример 
**controller.php**
```
namespace Team\Core;
class Controller
{

	public $model;
	public $view;

	function __construct()
	{
		$this->view = new \Team\Core\View();
	}
}
```
**controller_main.php**
```
namespace Team\Controllers\Pub;
use Team\Core\Controller;

class Controller_Main extends Controller
{
	public function action_index()
	{
		$this->view->generate('main_view.php', 'template_view.php');
	}
}
```
## 6. Router, URL, и GET-запросы
На 13,02,2020 URL составляется так: team-a-2020/(public or admin)/controller/action?param1=arg1&param2=arg2 и так далее, в зависимости от количества параметров в GET-запросе
(параметры так же могу и вовсе отсутствовать).
public or admin определяет какой тип страницы требуется отправить клиенту. При GET-запросе роутер передает контроллеру аргументы в виде ассоциативного массива оставляя названия 

параметров прежним, но value лежит в массиве .
### пример
``` php
//?category=processor&tag=Intel&tag=AMD
Array
(
    ['category'] => 'processor'
    
    ['tag'] => Array
        (
            [0] => 'Intel'
            [1] => 'AMD'
        )
)
```